- set well the FPS for global build (25 fps for windows7 + low windows configs)
Maybe 25 fps for old Macs. 60fps for Windows 10 + high windows configs. 60 fps for Catalina.
=> or set fps dynamically (in the GUI, or in a config file)

- Metal for new Macs, OpenGL for old Macs

Port plugins:
- plug name .png, manual, RELEASE-NOTEX.txt
- bl_config.h
- GUID
- use 2 functions for MyMakeGraphics() & MyMakeLayout()
- remove printf("create controls")
- remove UpdateText()
- remove MakeDefaultPReset()
- double -> BL_FLOAT
- remove kNumPrograms

TODO: gain smother: use CParamSmooth

Knobs style: see Ableton (minimalist and useful)! (but with graduations)
https://www.youtube.com/watch?v=KUZLXAK8do4

- BUG: (Mac Sierra, Nanovg, GL2), import 2 plugins with OpenGL view and GUI resize, resize one  => the two plugins get big display bugs

- OPTIM: check very well 60fps and perfs for each plugin (e.g Wav3s now consumes too much)
- TODO; in ProcessBlock(), every plugin, check that protools bug is fixed (out data must be set to null)

ParamSmooth => new version / CParamSmooth / sampleRate
- parameter emacs indentation (tab = 4 speaces), and re-indent everything

BUG: when quitting a Cario plug, into the XCode debugger, it crashes
- REFACT: bien classer les variables memebres (parametres, fft objs etc…), pour tous les plugins

- TODO: disable auto CPU anti-denormalization !
(and check denormalization by hand)

- TODO: set bevel for all curves

- TODO: the plugin needs to even process the sound when UI is closed (make test with reaper, [UI] button). e.g Rebalance

- TODO: Cairo, fix correctly the crash when quitting 
(now, there is currently a memory leak)

- when gray out knob, think to gray out value text also

- apply the new mutexes and flags from Ghost to all other plugins

Compile for Windows Xp:
Visual Studio 2013 on Windows 7 => is ok!
Platform Toolset: Visual Studio 2013 - Windows Xp (v120p)
=> need Xp SP3 + 3D graphics driver for execution (and suppress GetTickCount64())

- Why is it so long to display a plug the first time (we have black windows for some time before the GUI is displayed (that was not the case with iPlug1)

TODO: test very optimized nanovg: https://github.com/zlgopen/awtk/tree/master/3rd/nanovg

PERFORMANCES/FPS: really consider passing everything to 25fps! (
we can gain x2 performances - See Ghost -)

Undefined behavior sanitizer on old XCode: 
add -fsanitize=undefined on cflags an linker flags
“other linker flags” + “apple llvm 8 custom compiler flags”

TODO for all plugs at the end: pass thread sanitizer & undefined behavior sanitizer & address sanitizer

TODO: for all plugins, check that the display is not redisplayed every time (with debug blinking rectangles). check that is only displayed whn there is new data.

Website: Emrah => add a category menu (for the moment this is not practical)
Website: click -> do not open in new windows (except if linking to another website)

TODO: add the mechanism for NotifyGraph() from curves & axes to all other objects
(custom drawer…)

Website: don’t forget on website to create an image with a spaceship an Earth planet, with (animated) BL plugins around.

Heads for spatializer: find 3d model of female dummy head, and render it!

ProcessObj: remove mInput and mOutput (not used, was used for Shaper display only)

- OPTIM: to optimize, pre-allocate all BL_FLOAT wdl buffers and grow them if needed
=> e.g when dumping in Rebalance, there are 128MB allocated and freed at each song
(many buffers that are grown inside functions, and freed at the end, everywhere)
And create a super class for buffer Add/ConsumeLeft (with an internal cursor)
- and for deque<WDL buf>, use vector + shift and assign the last element
(check that when we assign the same size, it is not reallocated)

- ParamSmooth -> “CParamSmooth” + denormalize
- TimeAxis6 (instead of 5) everywhere!

- TODO: Indent everything correcly with emacs

NOTE: emacs: installed auto-complete with melpa

TODO: mae a classe bl_queue, with a push_pop() method, all in once, no memory alloc
a vector inside, with shift().

TODO: if the bug Cubase/Ableton 10 + Windows 10 + Intel + OpenGL is not solved, try Direct X for nanovg

BUG (maybe): the first time we click on a text value, this is buggy, we need to click a second time

TODO: un-denormalize input of each plugin, just at the beginning

NOTE: Windows / Reboot
- reboot shortcut: Win + x, u, u
- if windows does not boot: go to linux and do: 
ntfsfix (on ntfs) partition and dosfsck (on dos partition)
- windows safe mode: hard reboot several times => then choose “startup option”, 
reboot again, press “4” for safe mode boot

TODO: for all plugins, set output data to zero at the beginning, for all plugins

(mT = 0.457364351, mText = "-60dB")
164.651169

- TODO: make a plugin like PEEL: kind of Panogram with frequency separation
selection, to isolate or to mute
https://www.youtube.com/watch?v=bIh7HGKgO24

For memory tracking of all plugins on Linux, use HeapTrack!

emacs tags:
M-x visit-tags-table
M-. to go to defintion

(magit-log-current)

valgrind --vgdb=yes --vgdb-error=0 ./reaper
gdb -i=mi ~/Documents/Apps/reaper_linux_x86_64/REAPER/reaper
*gdb* target remote | vgdb

-j3
export CMAKE_BUILD_PARALLEL_LEVEL=3

emacs:
M-x customize-group auto-complete

TODO(later): use "param groups" (Mickael)
-> useful for automation, or for DAW guis ("UI")

xcb github:
https://github.com/xkbcommon/libxkbcommon/blob/master/xkbcommon/xkbcommon.h

----------
- TODO: add resources to CMakeList
- TODO: for all plugs, GetScaleForScreen(2 params)
- TODO: for many plugs, replace OnIdle() by OnGUIIdle() (for vst3 with OnIdle() disabled (???)
- TODO: for all plugs, add after attach background:
pGraphics->AttachTextEntryControl();
- TODO: MUTEX => MUTEX; (macro)

- TODO: detect "Cmd" on Linux?

- PROBLEM(little): when launchin app, there is a quick white blinking just before the app displays
(TODO => set default color to black, not white)

- TODO: think of compiling Linux LV2 format too

- TODO: for all plugs: INF => BL_INF

- TODO: check denormal class in WDL
- TODO: check fastqueue in WDL (is it a fast deque ?)
or use a ring buffer (cyclic queue)
- TODO: iPlug/Extra/Smoothers => for param smoother !!!
(not sure it will work like this, maybe need some modification)

- BUG: Cairo, crash when quitting

NOTE: there are memory leaks on Linux:
by 0x42F15F8D: xcbt_connect_init (xcbt.c:478)
==101199==    by 0x42F1635C: xcbt_connect (xcbt.c:536)
==101199==    by 0x42ED7C17: iplug::igraphics::IGraphicsLinux::OpenWindow(void*) (IGraphicsLinux.cpp:459)
-------

ln -s ../../BL-Plugins/BL-Chroma

NOTE: in App mode, the first time, there is a popup to say to check soundcard settings in preferences (very good!). Check preference file (.ini ?)

------
LINUX: take care if the rendering is done at 60fps by default, even if we define another FPS (this seems to be the case...).
- TODO: put version number and watermark in bold fond (here, it is not currently readable)

emacs -nw (inside term)
emas mode gprof: https://sourceware.org/legacy-ml/binutils/2002-08/msg00099.html

gprof: use perf (perf_events) instead ?
http://www.brendangregg.com/perf.html
https://kifarunix.com/installing-perf-performance-analysis-tool-on-ubuntu-18-04/
https://perf.wiki.kernel.org/index.php/Main_Page

---
- BUG: for all plugs: Linux: when hitting "space" in Reaper, the playback doesn't start (whereas it starts with other plugins). We need to change the focus to another window to play using "space" (already tried, looks hard to fix)

- NOTE: for file open feature on Linux, this is a gnome program that is used
(what about kde?)
- NOTE: SWELL uses gdk for app menus => need to test on linux with kde!

WIP:
AutoGain: vumeter doesn't move

- TODO: memory reuse for all plugs
- TODO: improve queue (WDL fast queue ? / cyclic queue ?)
